<div class="container">
  <div class="row my-5">
    <div class="col-12 col-md-10 mx-auto">

      <form action="/restaurants" method="POST" id="form">
        <div class="form-group">
          <label for="name">餐廳名稱：</label><span class="requiredInput">*</span>
          <input class="form-control mb-2" type="text" id="name" name="name" required>
          <div class="invalid-feedback">
            Please provide a restaurant name.
          </div>

          <label for="name_en">餐廳英文名稱：</label>
          <input class="form-control mb-2" type="text" id="name_en" name="name_en">

          <div class="form-group">
            <label for="category">類別：</label><span class="requiredInput">*</span>
            <input list="category" class="form-control" placeholder="{{storeInfo.category}}"
              value="{{storeInfo.category}}" name="category" required>
            <datalist id="category">
              <option value="義式餐廳">義式餐廳</option>
              <option value="中東料理">中東料理</option>
              <option value="日本料理">日本料理</option>
              <option value="美式">美式</option>
              <option value="酒吧">酒吧</option>
              <option value="咖啡">咖啡</option>
            </datalist>
          </div>

          <label for="location">地址：</label><span class="requiredInput">*</span>
          <input class="form-control mb-2" type="text" id="location" placeholder="{{storeInfo.location}}"
            value="{{storeInfo.location}}" name="location" required>

          <label for="google_map">Google Map 網址</label>
          <input class="form-control mb-2" type="text" id="google_map" name="google_map">

          <label for="phone">電話：</label><span class="requiredInput">*</span>
          <input class="form-control mb-2" type="tel" id="phone" placeholder="{{storeInfo.phone}}"
            value="{{storeInfo.phone}}" name="phone" inputmode="number" required>

          <label for="rating">評分</label>
          <input class="form-control mb-2" type="number" id="rating" name="rating" placeholder="1.0~5.0" max='5.0'
            min='1.0' step="0.1">

          <label for="description">介紹：</label>
          <textarea class="form-control mb-2" type="text" id="description" placeholder="{{storeInfo.description}}"
            value="{{storeInfo.description}}" name="description">{{storeInfo.description}}</textarea>

          <label for="image">代表圖片 URL：</label>
          <input class="form-control mb-5" type="text" id="image" placeholder="{{storeInfo.image}}"
            value="{{storeInfo.image}}" name="image" inputmode="url">


          <button type="submit" class="btn btn-success" id="submitBtn">Save</button>
          <a class="btn btn-secondary" href="/">Back</a>
        </div>
      </form>

    </div>
  </div>
</div>

<script>
  //TODO: use Bootstrap validation 
  //current: failed to preventDefault, customize invalid message
  const submitBtn = document.querySelector('#submitBtn')
  const form = document.querySelector('#form')
  submitBtn.addEventListener('click', function onSubmitClicked(event) {
    if (form.checkValidity() === false) {
      event.preventDefault();
      event.stopPropagation():
    }
    form.classList.add('was-validated')
  })
</script>